const express = require('express');
const bodyParser = require('body-parser');
const app = express();
const PORT = 3000;

app.use(bodyParser.json());
let employees = [];
app.post('/employees', (req, res) => {
const { id, name, position, salary } = req.body;

if (!id || !name || !position || !salary) {
return res.status(400).json({ error: 'All fields are required (id, name, position,
salary)' });
}
const existingEmployee = employees.find(emp => emp.id === id);
if (existingEmployee) {
return res.status(409).json({ error: 'Employee with the same ID already exists' });
}
const newEmployee = { id, name, position, salary };
employees.push(newEmployee);
res.status(201).json({ message: 'Employee created successfully', employee:
newEmployee });
});

app.put('/employees/:id', (req, res) => {
const employeeId = req.params.id;
const { name, position, salary } = req.body;
const employee = employees.find(emp => emp.id === employeeId);
if (!employee) {
return res.status(404).json({ error: 'Employee not found' });
}
if (name) employee.name = name;
if (position) employee.position = position;
if (salary) employee.salary = salary;
res.json({ message: 'Employee updated successfully', employee });
});

app.listen(PORT, () => {
console.log(`Server is running on http://localhost:${PORT}`);
});
